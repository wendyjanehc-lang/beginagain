<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>hello</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap" />
  <style>
    @font-face {
      font-family: 'Manic';
      src: url('fonts/MANIC.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: flex-start; /* keep hero aligned from the top edge */
      justify-content: center; /* center hero column */
      padding-top: 19.8vh; /* moved hero ~5vh further down so BEGIN AGAIN sits a bit lower */
      font-family: "Manic", "Mix Somn", -apple-system, BlinkMacSystemFont, system-ui, "SF Pro Text", sans-serif;
      background-color: #fff8e7; /* cream fallback */
      color: #ffffff;
      position: relative;
      overflow: hidden; /* hide zoomed edges */
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image: url('Images/background.JPG');
      background-size: cover;
      background-position: center 45%;
      background-repeat: no-repeat;
      z-index: -1;
      transform-origin: center;
      /* Keep the background gently moving the whole time the visitor is on the page */
      animation: hero-bg-zoom 70s linear infinite alternate;
    }

    .hero {
      max-width: 46rem;
      width: 100%;
      padding: 4rem 3rem;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .poem {
      font-family: 'Manic', inherit;
      color: #ffffff;
      text-align: center;
      font-size: 1.87rem; /* 70% larger than 1.1rem */
      line-height: 2.2;
      letter-spacing: 0.03em;
    }

    .poem-line {
      display: block;
    }

    .poem-line + .poem-line {
      margin-top: 1.2rem;
    }

    .poem-line--tertiary {
      font-size: 2.3rem; /* match other lines */
      white-space: nowrap;
      margin-top: 0.8rem; /* ~30% less than 1.2rem to sit slightly higher */
    }

    .poem-line--secondary {
      font-size: 2.3rem; /* match .poem-emphasis size */
      white-space: nowrap; /* keep the full phrase on one line */
    }

    /* Variant used only for "in the rubble at your feet" to shift it left. */
    .poem-line--secondary-rubble {
      display: inline-block;
      transform: translateX(-60%);
      text-align: left;
    }

    .poem-line--fade-out {
      animation: poem-fade-out 4s ease-out forwards;
    }

    .poem-line.group-gap {
      margin-top: 1.4rem;
    }

    .poem-emphasis {
      font-size: 2.3rem; /* 70% larger than 1.35rem */
      display: inline-block;
      transform: translateX(-40%); /* shift LISTEN closely ~40% left */
    }

    @keyframes poem-fade-out {
      0% {
        opacity: 1;
      }
      100% {
        opacity: 0;
      }
    }

    .poem-strong {
      font-weight: 700;
    }

    .poem-final-emphasis {
      font-size: 3.1rem; /* ~15% larger for \"I am making all things\" */
    }

    .poem-all {
      position: relative;
      display: inline-block;
    }

    .poem-all::after {
      content: "";
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      bottom: -0.04em; /* 50% higher (closer to the word) than before */
      width: 2.9rem; /* ~30% smaller than 4.2rem */
      height: 0.84rem; /* ~30% smaller than 1.2rem */
      background-image: url('Elements/manic_emphasis-03.png');
      background-repeat: no-repeat;
      background-size: 100% 100%;
      pointer-events: none;
      filter: invert(1) brightness(1.4); /* approximate white version of the graphic */
    }

    .hero-ctas {
      margin-top: 2.8rem;
      display: flex;
      gap: 2.5rem;
      opacity: 0;
      pointer-events: none;
      transform: translateY(8px);
      transition: opacity 600ms ease-out, transform 600ms ease-out;
    }

    .hero-ctas--visible {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
    }

    .hero-cta-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.95rem 2.8rem;
      border-radius: 0;
      border: none;
      background-color: #ffffff;
      color: #00356b; /* deep blue similar to reference */
      font-family: -apple-system, BlinkMacSystemFont, system-ui, "SF Pro Text", sans-serif; /* clean sans like reference */
      font-size: 0.95rem;
      letter-spacing: 0.35em;
      text-transform: uppercase;
      text-decoration: none;
      font-weight: 500;
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.06);
      cursor: pointer;
    }

    .hero-cta-button:hover,
    .hero-cta-button:focus-visible {
      box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.12);
    }

    /* stronger zoom for the hero background image */
    @keyframes hero-bg-zoom {
      0% {
        transform: scale(1);
        background-position: center 40%;
      }
      100% {
        transform: scale(1.3); /* stronger overall zoom so movement feels ~35% faster while spanning the full sequence */
        background-position: center 80%;
      }
    }
  </style>
</head>
<body>
  <main class="hero" aria-label="Homepage hero">
    <section class="poem" aria-label="Listen closely">
      <span
        class="poem-line poem-emphasis"
        id="listen-text-primary"
        data-text="LISTEN closely in the silence,"
      ></span>
      <span
        class="poem-line poem-line--secondary"
        id="listen-text-secondary"
        data-text="in the ache that feels endless"
        data-text-second="you will hear it"
        data-text-third="a voice like water, running through stone"
        data-text-fifth="saying..."
        data-text-sixth="&quot;I am making all things NEW&quot;"
        data-text-begin="BEGIN AGAIN"
      ></span>
      <span
        class="poem-line poem-line--tertiary"
        id="listen-text-tertiary"
        data-text="in the rubble at your feet"
      ></span>
    </section>

    <div class="hero-ctas" id="hero-ctas" aria-label="Primary actions" aria-hidden="true">
      <a href="enter-site.html" class="hero-cta-button">Enter Site</a>
    </div>

    <audio
      id="bg-audio"
      src="Audio/HOPE.mp3"
      preload="auto"
      loop
      muted
      aria-hidden="true"
      style="display: none;"
    ></audio>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const audio = document.getElementById('bg-audio');
      if (audio) {
        audio.loop = true;
        audio.muted = true;
        audio.play().catch(() => {
          // Autoplay may be blocked; we'll start it on first user interaction below.
        });

        const enableAudioOnFirstInteraction = () => {
          audio.muted = false;
          audio.play().catch(() => {
            // If this still fails, the browser is being very strict; user can
            // enable audio via native controls if exposed in the future.
          });
          window.removeEventListener('click', enableAudioOnFirstInteraction);
          window.removeEventListener('keydown', enableAudioOnFirstInteraction);
          window.removeEventListener('touchstart', enableAudioOnFirstInteraction);
        };

        window.addEventListener('click', enableAudioOnFirstInteraction, { once: true });
        window.addEventListener('keydown', enableAudioOnFirstInteraction, { once: true });
        window.addEventListener('touchstart', enableAudioOnFirstInteraction, { once: true });
      }

      const secondaryEl = document.getElementById('listen-text-secondary');
      const tertiaryEl = document.getElementById('listen-text-tertiary');
      const heroCtas = document.getElementById('hero-ctas');

      function typeText(el, text, options = {}) {
        const { baseDelay = 100, jitterMax = 80, onComplete } = options;
        let index = 0;
        el.textContent = '';

        const step = () => {
          if (index < text.length) {
            el.textContent += text.charAt(index);
            index += 1;
            const jitter = Math.random() * jitterMax;
            setTimeout(step, baseDelay + jitter);
          } else if (typeof onComplete === 'function') {
            onComplete();
          }
        };

        step();
      }

      // Like typeText, but appends characters to the existing content instead of clearing.
      function appendText(el, text, options = {}) {
        const { baseDelay = 90, jitterMax = 60, onComplete } = options;
        let index = 0;

        const step = () => {
          if (index < text.length) {
            el.textContent += text.charAt(index);
            index += 1;
            const jitter = Math.random() * jitterMax;
            setTimeout(step, baseDelay + jitter);
          } else if (typeof onComplete === 'function') {
            onComplete();
          }
        };

        step();
      }

      // Only play the final BEGIN AGAIN sequence.
      if (tertiaryEl) {
        const beginText = secondaryEl?.getAttribute('data-text-begin') || 'BEGIN AGAIN';
        const withText = ' with Nathan Gernetzky';

        tertiaryEl.classList.add('poem-final-emphasis');
        tertiaryEl.textContent = '';

        // Give the background and font a moment to settle, then type the line.
        setTimeout(() => {
          typeText(tertiaryEl, beginText, {
            baseDelay: 115,
            jitterMax: 75,
            onComplete: () => {
              // After BEGIN AGAIN is written, append the name and reveal the CTA.
              setTimeout(() => {
                appendText(tertiaryEl, withText, {
                  baseDelay: 90,
                  jitterMax: 50,
                  onComplete: () => {
                    if (heroCtas) {
                      heroCtas.classList.add('hero-ctas--visible');
                      heroCtas.setAttribute('aria-hidden', 'false');
                    }
                  },
                });
              }, 1000);
            },
          });
        }, 400);
      }
    });
  </script>
</body>
</html>
