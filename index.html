<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>hello</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap" />
  <style>
    @font-face {
      font-family: 'Manic';
      src: url('fonts/MANIC.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      align-items: flex-start; /* place hero toward top */
      justify-content: center; /* center hero column */
      padding-top: 4.8vh; /* ~20% higher (less top padding) */
      font-family: "Manic", "Mix Somn", -apple-system, BlinkMacSystemFont, system-ui, "SF Pro Text", sans-serif;
      background-color: #fff8e7; /* cream fallback */
      color: #ffffff;
      position: relative;
      overflow: hidden; /* hide zoomed edges */
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image: url('Images/background.JPG');
      background-size: cover;
      background-position: center 45%;
      background-repeat: no-repeat;
      z-index: -1;
      transform-origin: center;
      animation: hero-bg-zoom 27s ease-out forwards;
    }

    .hero {
      max-width: 46rem;
      width: 100%;
      padding: 4rem 3rem;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .poem {
      font-family: 'Manic', inherit;
      color: #ffffff;
      text-align: center;
      font-size: 1.87rem; /* 70% larger than 1.1rem */
      line-height: 2.2;
      letter-spacing: 0.03em;
    }

    .poem-line {
      display: block;
    }

    .poem-line + .poem-line {
      margin-top: 1.2rem;
    }

    .poem-line--secondary {
      font-size: 2.3rem; /* match .poem-emphasis size */
    }

    .poem-line--fade-out {
      animation: poem-fade-out 4s ease-out forwards;
    }

    .poem-line.group-gap {
      margin-top: 1.4rem;
    }

    .poem-emphasis {
      font-size: 2.3rem; /* 70% larger than 1.35rem */
    }

    @keyframes poem-fade-out {
      0% {
        opacity: 1;
      }
      100% {
        opacity: 0;
      }
    }

    .poem-strong {
      font-weight: 700;
    }

    /* stronger zoom for the hero background image */
    @keyframes hero-bg-zoom {
      0% {
        transform: scale(1);
        background-position: center 40%;
      }
      100% {
        transform: scale(1.15);
        background-position: center 80%;
      }
    }
  </style>
</head>
<body>
  <main class="hero" aria-label="Homepage hero">
    <section class="poem" aria-label="Listen closely">
      <span
        class="poem-line poem-emphasis"
        id="listen-text-primary"
        data-text="LISTEN closely"
      ></span>
      <span
        class="poem-line poem-line--secondary"
        id="listen-text-secondary"
        data-text="in the silence, in the ache that feels endless"
      ></span>
    </section>

    <audio id="bg-audio" src="Audio/HOPE.mp3" preload="auto" loop aria-hidden="true"></audio>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const audio = document.getElementById('bg-audio');
      if (audio) {
        audio.loop = true;
        audio.play().catch(() => {
          // autoplay likely blocked by the browser; user will hear audio only after
          // they interact with the page or use built-in browser controls.
        });
      }

      const primaryEl = document.getElementById('listen-text-primary');
      const secondaryEl = document.getElementById('listen-text-secondary');

      function typeText(el, text, options = {}) {
        const { baseDelay = 90, jitterMax = 80, onComplete } = options;
        let index = 0;
        el.textContent = '';

        const step = () => {
          if (index < text.length) {
            el.textContent += text.charAt(index);
            index += 1;
            const jitter = Math.random() * jitterMax;
            setTimeout(step, baseDelay + jitter);
          } else if (typeof onComplete === 'function') {
            onComplete();
          }
        };

        step();
      }

      if (primaryEl) {
        const primaryText = primaryEl.getAttribute('data-text') || '';
        const secondaryText = secondaryEl?.getAttribute('data-text') || '';

        // Start primary after a short delay for background/font
        setTimeout(() => {
          typeText(primaryEl, primaryText, {
            baseDelay: 90,
            jitterMax: 80,
            onComplete: () => {
              // Fade out the primary line while starting secondary handwriting
              primaryEl.classList.add('poem-line--fade-out');

              if (secondaryEl && secondaryText) {
                setTimeout(() => {
                  typeText(secondaryEl, secondaryText, {
                    baseDelay: 80,
                    jitterMax: 70,
                  });
                }, 500); // slight offset so fade + new writing overlap a bit
              }
            },
          });
        }, 400);
      }
    });
  </script>
</body>
</html>
